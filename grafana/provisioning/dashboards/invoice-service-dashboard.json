{"dashboard":{"title":"Invoice Service - Production Dashboard","tags":["invoice-service","observability","production"],"timezone":"browser","schemaVersion":38,"version":1,"refresh":"10s","panels":[{"id":1,"title":"Invoices Created (Total)","type":"stat","gridPos":{"h":4,"w":6,"x":0,"y":0},"targets":[{"expr":"invoices_created_total","refId":"A","legendFormat":"Total Created"}],"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"thresholds":{"mode":"absolute","steps":[{"value":null,"color":"green"}]},"unit":"short"}},"options":{"graphMode":"area","colorMode":"value"}},{"id":2,"title":"Invoices Updated (Total)","type":"stat","gridPos":{"h":4,"w":6,"x":6,"y":0},"targets":[{"expr":"invoices_updated_total","refId":"A"}],"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"unit":"short"}}},{"id":3,"title":"Invoices Retrieved (Total)","type":"stat","gridPos":{"h":4,"w":6,"x":12,"y":0},"targets":[{"expr":"invoices_retrieved_total","refId":"A"}],"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"unit":"short"}}},{"id":4,"title":"Error Rate","type":"stat","gridPos":{"h":4,"w":6,"x":18,"y":0},"targets":[{"expr":"rate(errors_total[5m])","refId":"A","legendFormat":"Errors/sec"}],"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"thresholds":{"mode":"absolute","steps":[{"value":null,"color":"green"},{"value":0.1,"color":"yellow"},{"value":1,"color":"red"}]},"unit":"reqps"}}},{"id":5,"title":"Request Rate (per second)","type":"timeseries","gridPos":{"h":8,"w":12,"x":0,"y":4},"targets":[{"expr":"sum(rate(invoices_created_total[5m]))","refId":"A","legendFormat":"Created/sec"},{"expr":"sum(rate(invoices_updated_total[5m]))","refId":"B","legendFormat":"Updated/sec"},{"expr":"sum(rate(invoices_retrieved_total[5m]))","refId":"C","legendFormat":"Retrieved/sec"}],"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"custom":{"axisLabel":"","axisPlacement":"auto","drawStyle":"line","fillOpacity":10,"gradientMode":"none","lineInterpolation":"linear","lineWidth":2},"unit":"reqps"}}},{"id":6,"title":"Error Rate Over Time","type":"timeseries","gridPos":{"h":8,"w":12,"x":12,"y":4},"targets":[{"expr":"rate(errors_total[5m])","refId":"A","legendFormat":"Errors/sec"}],"fieldConfig":{"defaults":{"color":{"mode":"thresholds"},"thresholds":{"mode":"absolute","steps":[{"value":null,"color":"green"},{"value":0.1,"color":"yellow"},{"value":1,"color":"red"}]},"unit":"reqps"}}},{"id":7,"title":"Latency - P50, P95, P99","type":"timeseries","gridPos":{"h":8,"w":12,"x":0,"y":12},"targets":[{"expr":"histogram_quantile(0.50, sum(rate(invoices_create_duration_ms_bucket[5m])) by (le))","refId":"A","legendFormat":"Create P50"},{"expr":"histogram_quantile(0.95, sum(rate(invoices_create_duration_ms_bucket[5m])) by (le))","refId":"B","legendFormat":"Create P95"},{"expr":"histogram_quantile(0.99, sum(rate(invoices_create_duration_ms_bucket[5m])) by (le))","refId":"C","legendFormat":"Create P99"}],"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"unit":"ms"}}},{"id":8,"title":"Retrieval Operations by Type","type":"piechart","gridPos":{"h":8,"w":12,"x":12,"y":12},"targets":[{"expr":"sum by (type) (invoices_retrieved_total)","refId":"A"}],"options":{"reduceOptions":{"values":false,"calcs":["lastNotNull"],"fields":""},"pieType":"pie","tooltip":{"mode":"single"},"legend":{"displayMode":"table","placement":"right"}}},{"id":9,"title":"Success vs Error Rate","type":"timeseries","gridPos":{"h":8,"w":12,"x":0,"y":20},"targets":[{"expr":"sum(rate(invoices_created_total{status=\"success\"}[5m]))","refId":"A","legendFormat":"Success"},{"expr":"sum(rate(invoices_created_total{status=\"error\"}[5m]))","refId":"B","legendFormat":"Error"}],"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"unit":"reqps"}}},{"id":10,"title":"HTTP Requests by Method","type":"timeseries","gridPos":{"h":8,"w":12,"x":12,"y":20},"targets":[{"expr":"sum by (method) (rate(http_requests_total[5m]))","refId":"A"}],"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"unit":"reqps"}}},{"id":11,"title":"Average Operation Duration","type":"timeseries","gridPos":{"h":8,"w":24,"x":0,"y":28},"targets":[{"expr":"rate(invoices_create_duration_ms_sum[5m]) / rate(invoices_create_duration_ms_count[5m])","refId":"A","legendFormat":"Create Avg"},{"expr":"rate(invoices_update_duration_ms_sum[5m]) / rate(invoices_update_duration_ms_count[5m])","refId":"B","legendFormat":"Update Avg"},{"expr":"rate(invoices_retrieve_duration_ms_sum[5m]) / rate(invoices_retrieve_duration_ms_count[5m])","refId":"C","legendFormat":"Retrieve Avg"}],"fieldConfig":{"defaults":{"color":{"mode":"palette-classic"},"unit":"ms"}}}],"time":{"from":"now-1h","to":"now"},"timepicker":{},"templating":{"list":[]},"annotations":{"list":[]}}}
